<!-- <script src="http://maps.googleapis.com/maps/api/js"></script> -->
<script src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script>
	
</script>


<div class="jumbotron">

	<div align="center">
		<div id="googleMap" style="width:500px;height:380px;"></div>
	</div>
	<button onclick="getLocation()">Ub√≠came</button>
	<p id="demo"></p>

</div>


<script>


var map;
function initialize() {
		navigator.geolocation.getCurrentPosition(initialize2);

        
}

function initialize2(myPos) {

	var mapProp = {
          center:new google.maps.LatLng(51.508742,-0.120850),
          zoom:5,
          mapTypeId:google.maps.MapTypeId.ROADMAP
        };
        map = new google.maps.Map(document.getElementById("googleMap"),mapProp);
        map.setCenter(myPos);
        console.log(myPos);

}


function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
    } else { 
        x.innerHTML = "Geolocation is not supported by this browser.";
    }
}

function showPosition(position) {
	initialize2(position);

    x.innerHTML = "Latitude: " + position.coords.latitude + 
    "<br>Longitude: " + position.coords.longitude;	
    myPos = new google.maps.LatLng(position.coords.latitude, position.coords.longitude)
    map.setCenter(myPos);
    map.setZoom(14);
    var marker = new google.maps.Marker({
      position: myPos,
      map: map,
      title: 'You Are Here'
  });
}
//google.maps.event.addDomListener(window, 'load', initialize);
$(document).ready(initialize);
var x = document.getElementById("demo");


</script>